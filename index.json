[{"uri":"https://www.createdirectusapp.com/getting-started/create-directus-project/","title":"Create a Directus Project","tags":[],"description":"","content":"Our first step is to structure our project. Throughout his guide we will add multiple workspaces to the project\nSo we will start off by creating our root package.json:\n{ \u0026#34;private\u0026#34;: true, \u0026#34;workspaces\u0026#34;: [ \u0026#34;directus-app\u0026#34; ] } And our directus-app/package.json:\n{ \u0026#34;name\u0026#34;: \u0026#34;directus-app\u0026#34;, \u0026#34;version\u0026#34;: \u0026#34;0.0.0\u0026#34;, \u0026#34;license\u0026#34;: \u0026#34;MIT\u0026#34; } Then we install directus:\nyarn workspace directus-app add directus To be able to run directus, we need a database to connect to. Let\u0026rsquo;s set up a postgres database using directus-app/docker-compose.yml:\nversion: \u0026#34;3.8\u0026#34; services: database: image: postgres:15 environment: POSTGRES_USER: directus POSTGRES_PASSWORD: directus ports: - \u0026#34;5432:5432\u0026#34; Now to run scripts we will install 2 utilities into our project: wsrun to run scripts across multiple workspaces and npm-run-all to run scripts sequentially or in parallel.\nyarn add -D -W wsrun npm-run-all We can now add our scripts to directus-app by editing directus-app/package.json:\n{ \u0026#34;name\u0026#34;: \u0026#34;directus-app\u0026#34;, \u0026#34;version\u0026#34;: \u0026#34;0.0.0\u0026#34;, \u0026#34;license\u0026#34;: \u0026#34;MIT\u0026#34;, \u0026#34;dependencies\u0026#34;: { ... }, \u0026#34;scripts\u0026#34;: { \u0026#34;dev\u0026#34;: \u0026#34;run-s dev:**\u0026#34;, \u0026#34;dev:docker\u0026#34;: \u0026#34;docker compose up -d\u0026#34;, \u0026#34;dev:bootstrap\u0026#34;: \u0026#34;directus bootstrap\u0026#34;, \u0026#34;dev:start\u0026#34;: \u0026#34;directus start\u0026#34; } } And we will also add the dev script our root package.json which forwards the dev script to all our workspaces. This will come in handy later:\n{ \u0026#34;private\u0026#34;: true, \u0026#34;workspaces\u0026#34;: [ \u0026#34;directus-app\u0026#34; ], \u0026#34;scripts\u0026#34;: { \u0026#34;dev\u0026#34;: \u0026#34;wsrun -m dev\u0026#34; } } And finally, configure your directus instance using directus-app/.env:\nKEY=development key SECRET=development secret ADMIN_EMAIL=admin@example.com ADMIN_PASSWORD=admin DB_CLIENT=pg DB_CONNECTION_STRING=postgresql://directus:directus@127.0.0.1/directus EXTENSIONS_AUTO_RELOAD=true Now you should be able to start directus:\nyarn dev When you see the message Server started at http://0.0.0.0:8055 you will be able to open directus on http://localhost:8055.\n"},{"uri":"https://www.createdirectusapp.com/api-development/setup/","title":"Getting Started","tags":[],"description":"","content":" This guide is very much still being written. Check back regularly or create a discussion of you have a pressing question now.\n"},{"uri":"https://www.createdirectusapp.com/getting-started/","title":"Getting Started","tags":[],"description":"","content":"Chapter 1 Getting Started In this section we will be setting up a project repository for application development using Directus. We will cover how to set up a multi-workspace project and how to run that project in both development situations and in production.\nThroughout this guide I will be using yarn as my package manager but it should also work fine with npm.\n"},{"uri":"https://www.createdirectusapp.com/getting-started/commit-schema-to-git/","title":"Commit Your Schema to Git","tags":[],"description":"","content":"In the previous step we\u0026rsquo;ve set up a directus project. Now we want to export our schema when we change it.\nAdd a new script to directus-app/package.json:\n{ \u0026#34;name\u0026#34;: \u0026#34;directus-app\u0026#34;, ... \u0026#34;scripts\u0026#34;: { ... \u0026#34;dump\u0026#34;: \u0026#34;run-p dump:**\u0026#34;, \u0026#34;dump:schema\u0026#34;: \u0026#34;directus schema snapshot -y ./schema.yml\u0026#34; } } And add the forwarder to the root package.json:\n{ \u0026#34;private\u0026#34;: true, ... \u0026#34;scripts\u0026#34;: { ... \u0026#34;dump\u0026#34;: \u0026#34;wsrun -m dump\u0026#34; }, ... } Now run yarn dump to save your schema to directus-app/schema.yml. Confirm that this file exists.\nNext we will add a script to directus-app/package.json to load this schema when directus starts:\n{ \u0026#34;name\u0026#34;: \u0026#34;directus-app\u0026#34;, ... \u0026#34;scripts\u0026#34;: { ... \u0026#34;dev:bootstrap\u0026#34;: \u0026#34;directus bootstrap\u0026#34;, \u0026#34;dev:schema\u0026#34;: \u0026#34;directus schema apply ./schema.yml\u0026#34;, \u0026#34;dev:start\u0026#34;: \u0026#34;directus start\u0026#34;, ... } } Make sure you place the dev:schema script in the same place as in the example above. The order is important because it determines the order in which run-s runs the scripts. The schema apply will fail if the database has not been bootstrapped.\nNow, when you check out your project, you will be able to run yarn install followed by yarn dev and your directus instance will be immediately available for you.\n"},{"uri":"https://www.createdirectusapp.com/getting-started/create-an-extension/","title":"Create an Extension","tags":[],"description":"","content":"Now let\u0026rsquo;s add some functionality to Directus in the form of an extension.\nTODO: I still have to write a section actually developing the extension.\nFirst we need to generate our extension files:\nyarn create directus-extension Choose the extension type: bundle\nChoose a name for the extension: directus-extension-example\nIt is important to prefix your extension name with directus-extension-. If you don\u0026rsquo;t, Directus will not load your extension.\nAnd add this new package to your root package.json:\n{ \u0026#34;private\u0026#34;: true, \u0026#34;workspaces\u0026#34;: [ ... \u0026#34;directus-extension-example\u0026#34; ], ... } And add the extension as a dependency to directus-app/package.json. Use version \u0026quot;*\u0026quot; to make sure yarn is always linking to your local package.\n{ \u0026#34;name\u0026#34;: \u0026#34;directus-app\u0026#34;, \u0026#34;version\u0026#34;: \u0026#34;0.0.0\u0026#34;, \u0026#34;license\u0026#34;: \u0026#34;MIT\u0026#34;, \u0026#34;dependencies\u0026#34;: { \u0026#34;directus\u0026#34;: \u0026#34;^10.5.3\u0026#34;, \u0026#34;directus-extension-example\u0026#34;: \u0026#34;*\u0026#34; }, ... } Now run yarn install in the root of your project to link the dependencies and run yarn dev to test your project.\nYou should see the following message in your console: Loaded extensions: directus-extension-example. This means the extension was loaded.\nOptional: Autogenerate Directus TypeScript Definitions I\u0026rsquo;ve created an extension called directus-extension-models which generates TypeScript types from your Directus collection. This is particularly useful while developing Directus extensions.\nAdd the package:\nyarn workspace directus-app add directus-extension-models Then add a dump script to directus-app/package.json:\n{ \u0026#34;name\u0026#34;: \u0026#34;directus-app\u0026#34;, ... \u0026#34;scripts\u0026#34;: { ... \u0026#34;dump:models\u0026#34;: \u0026#34;directus models snapshot ../directus-extension-example/src/models.d.ts\u0026#34; } } And run yarn dump to generate the type definition files.\nYou should now have a file at directus-extension-example/src/models.d.ts contains a bunch of Directus related types.\nYou can optionally specify the --global flag to the models command to generate global type declarations for your extension. When you do this, you don\u0026rsquo;t have to import your types. They will be globally available instead. In that case, the command looks like this: directus models snapshot --global ../directus-extension-example/src/models.d.ts\n"},{"uri":"https://www.createdirectusapp.com/api-development/","title":"API Development","tags":[],"description":"","content":" This guide is very much still being written. Check back regularly or create a discussion of you have a pressing question now.\n"},{"uri":"https://www.createdirectusapp.com/api-development/endpoints/","title":"Endpoints","tags":[],"description":"","content":" This guide is very much still being written. Check back regularly or create a discussion of you have a pressing question now.\n"},{"uri":"https://www.createdirectusapp.com/admin-app-extensions/","title":"Admin App Extensions","tags":[],"description":"","content":" This guide is very much still being written. Check back regularly or create a discussion of you have a pressing question now.\n"},{"uri":"https://www.createdirectusapp.com/api-development/hooks/","title":"Hooks","tags":[],"description":"","content":" This guide is very much still being written. Check back regularly or create a discussion of you have a pressing question now.\n"},{"uri":"https://www.createdirectusapp.com/api-development/emails/","title":"Email Templates","tags":[],"description":"","content":" This guide is very much still being written. Check back regularly or create a discussion of you have a pressing question now.\n"},{"uri":"https://www.createdirectusapp.com/api-development/migrations/","title":"Migrations","tags":[],"description":"","content":" This guide is very much still being written. Check back regularly or create a discussion of you have a pressing question now.\n"},{"uri":"https://www.createdirectusapp.com/extension-showcase/","title":"Extension Showcase","tags":[],"description":"","content":" This guide is very much still being written. Check back regularly or create a discussion of you have a pressing question now.\n"},{"uri":"https://www.createdirectusapp.com/extension-showcase/directus-extension-models/","title":"","tags":[],"description":"","content":"Directus extension: Generate TypeScript Types Models This extension lets you generate typescript types from your Schema, allowing you to more easily develop your custom extensions with type checking.\nUsage To install the extension, simply install the package into your project:\nnpm install directus-extension-models or\nyarn add directus-extension-models Then, run the models snapshot command to export your model to disk: directus models snapshot \u0026lt;taretFile\u0026gt;.\nExample:\ndirectus models snapshot ./path/to/target/model.d.ts :thumbsup: Global Types: You can specify the \u0026ndash;global option while taking a snapshot to generate a global type definition file giving you types without having to import them.\nUsage in @directus/sdk You can now create your directus sdk using these generated models:\nimport {createDirectus, readItem, readSingleton, rest} from \u0026#34;@directus/sdk\u0026#34;; import {Collections} from \u0026#34;./models\u0026#34;; const directus = createDirectus\u0026lt;Collections\u0026gt;( \u0026#39;https://my.directus.example.com\u0026#39; ) .with(rest()); (async () =\u0026gt; { const settings = await directus.request( readSingleton(\u0026#39;directus_settings\u0026#39;) ); console.log(`Welcome to ${settings.project_name}`); const user = await directus.request( readItem(\u0026#39;directus_users\u0026#39;, \u0026#39;user-id-in-here\u0026#39;) ); console.log(`Hi ${user.first_name}!`); })(); Usage in Directus extensions import {defineEndpoint} from \u0026#39;@directus/extensions-sdk\u0026#39;; import type {CollectionName, ItemIn} from \u0026#34;../models\u0026#34;; import type {ItemsService} from \u0026#34;@directus/api/dist/services\u0026#34;; export default defineEndpoint((router, {services}) =\u0026gt; { /** * You probably want to move this utility to a place more suitable * for your extension */ function items\u0026lt;C extends CollectionName\u0026gt;(collectionName: C): ItemsService\u0026lt;ItemIn\u0026lt;C\u0026gt;\u0026gt; { return new services.ItemsService(collectionName); } router.get(\u0026#39;/\u0026#39;, async (_req, res) =\u0026gt; { const settings = await items(\u0026#39;directus_settings\u0026#39;) .readSingleton({}); res.json({ name: settings.project_name }); }); }); "},{"uri":"https://www.createdirectusapp.com/extension-showcase/directus-extension-prometheus/","title":"","tags":[],"description":"","content":"Directus Extension: Prometheus Expose directus metrics to your prometheus instance.\nNo configuration required.\nInstall into your project npm install directus-extension-prometheus Now, when you launch your directus instance, you will receive metrics on the /metrics endpoint.\nOptional Configuration Option Description Default PROMETHEUS_METRICS_ENDPOINT The endpoint on which the prometheus metrics are exposed. \u0026quot;/metrics\u0026quot; Default Metrics Here is an example of the types of metrics exposed by this extension:\n# HELP directus_request_count The total number of http requests # TYPE directus_request_count counter directus_request_count{status=\u0026#34;200\u0026#34;,method=\u0026#34;GET\u0026#34;} 160 directus_request_count{status=\u0026#34;200\u0026#34;,method=\u0026#34;POST\u0026#34;} 2 directus_request_count{status=\u0026#34;304\u0026#34;,method=\u0026#34;GET\u0026#34;} 12 directus_request_count{status=\u0026#34;204\u0026#34;,method=\u0026#34;PATCH\u0026#34;} 5 # HELP directus_request_duration_seconds The total duration of http requests # TYPE directus_request_duration_seconds histogram directus_request_duration_seconds_bucket{le=\u0026#34;0.005\u0026#34;,method=\u0026#34;GET\u0026#34;,status=\u0026#34;200\u0026#34;} 10 directus_request_duration_seconds_bucket{le=\u0026#34;0.01\u0026#34;,method=\u0026#34;GET\u0026#34;,status=\u0026#34;200\u0026#34;} 57 directus_request_duration_seconds_bucket{le=\u0026#34;0.025\u0026#34;,method=\u0026#34;GET\u0026#34;,status=\u0026#34;200\u0026#34;} 141 directus_request_duration_seconds_bucket{le=\u0026#34;0.05\u0026#34;,method=\u0026#34;GET\u0026#34;,status=\u0026#34;200\u0026#34;} 158 directus_request_duration_seconds_bucket{le=\u0026#34;0.1\u0026#34;,method=\u0026#34;GET\u0026#34;,status=\u0026#34;200\u0026#34;} 160 directus_request_duration_seconds_bucket{le=\u0026#34;0.25\u0026#34;,method=\u0026#34;GET\u0026#34;,status=\u0026#34;200\u0026#34;} 160 directus_request_duration_seconds_bucket{le=\u0026#34;0.5\u0026#34;,method=\u0026#34;GET\u0026#34;,status=\u0026#34;200\u0026#34;} 160 directus_request_duration_seconds_bucket{le=\u0026#34;1\u0026#34;,method=\u0026#34;GET\u0026#34;,status=\u0026#34;200\u0026#34;} 160 directus_request_duration_seconds_bucket{le=\u0026#34;2.5\u0026#34;,method=\u0026#34;GET\u0026#34;,status=\u0026#34;200\u0026#34;} 160 directus_request_duration_seconds_bucket{le=\u0026#34;5\u0026#34;,method=\u0026#34;GET\u0026#34;,status=\u0026#34;200\u0026#34;} 160 directus_request_duration_seconds_bucket{le=\u0026#34;10\u0026#34;,method=\u0026#34;GET\u0026#34;,status=\u0026#34;200\u0026#34;} 160 directus_request_duration_seconds_bucket{le=\u0026#34;+Inf\u0026#34;,method=\u0026#34;GET\u0026#34;,status=\u0026#34;200\u0026#34;} 160 directus_request_duration_seconds_sum{method=\u0026#34;GET\u0026#34;,status=\u0026#34;200\u0026#34;} 2.239873104999999 directus_request_duration_seconds_count{method=\u0026#34;GET\u0026#34;,status=\u0026#34;200\u0026#34;} 160 directus_request_duration_seconds_bucket{le=\u0026#34;0.005\u0026#34;,method=\u0026#34;POST\u0026#34;,status=\u0026#34;200\u0026#34;} 0 directus_request_duration_seconds_bucket{le=\u0026#34;0.01\u0026#34;,method=\u0026#34;POST\u0026#34;,status=\u0026#34;200\u0026#34;} 0 directus_request_duration_seconds_bucket{le=\u0026#34;0.025\u0026#34;,method=\u0026#34;POST\u0026#34;,status=\u0026#34;200\u0026#34;} 1 directus_request_duration_seconds_bucket{le=\u0026#34;0.05\u0026#34;,method=\u0026#34;POST\u0026#34;,status=\u0026#34;200\u0026#34;} 1 directus_request_duration_seconds_bucket{le=\u0026#34;0.1\u0026#34;,method=\u0026#34;POST\u0026#34;,status=\u0026#34;200\u0026#34;} 2 directus_request_duration_seconds_bucket{le=\u0026#34;0.25\u0026#34;,method=\u0026#34;POST\u0026#34;,status=\u0026#34;200\u0026#34;} 2 directus_request_duration_seconds_bucket{le=\u0026#34;0.5\u0026#34;,method=\u0026#34;POST\u0026#34;,status=\u0026#34;200\u0026#34;} 2 directus_request_duration_seconds_bucket{le=\u0026#34;1\u0026#34;,method=\u0026#34;POST\u0026#34;,status=\u0026#34;200\u0026#34;} 2 directus_request_duration_seconds_bucket{le=\u0026#34;2.5\u0026#34;,method=\u0026#34;POST\u0026#34;,status=\u0026#34;200\u0026#34;} 2 directus_request_duration_seconds_bucket{le=\u0026#34;5\u0026#34;,method=\u0026#34;POST\u0026#34;,status=\u0026#34;200\u0026#34;} 2 directus_request_duration_seconds_bucket{le=\u0026#34;10\u0026#34;,method=\u0026#34;POST\u0026#34;,status=\u0026#34;200\u0026#34;} 2 directus_request_duration_seconds_bucket{le=\u0026#34;+Inf\u0026#34;,method=\u0026#34;POST\u0026#34;,status=\u0026#34;200\u0026#34;} 2 directus_request_duration_seconds_sum{method=\u0026#34;POST\u0026#34;,status=\u0026#34;200\u0026#34;} 0.08861785999999999 directus_request_duration_seconds_count{method=\u0026#34;POST\u0026#34;,status=\u0026#34;200\u0026#34;} 2 directus_request_duration_seconds_bucket{le=\u0026#34;0.005\u0026#34;,method=\u0026#34;GET\u0026#34;,status=\u0026#34;304\u0026#34;} 0 directus_request_duration_seconds_bucket{le=\u0026#34;0.01\u0026#34;,method=\u0026#34;GET\u0026#34;,status=\u0026#34;304\u0026#34;} 6 directus_request_duration_seconds_bucket{le=\u0026#34;0.025\u0026#34;,method=\u0026#34;GET\u0026#34;,status=\u0026#34;304\u0026#34;} 11 directus_request_duration_seconds_bucket{le=\u0026#34;0.05\u0026#34;,method=\u0026#34;GET\u0026#34;,status=\u0026#34;304\u0026#34;} 12 directus_request_duration_seconds_bucket{le=\u0026#34;0.1\u0026#34;,method=\u0026#34;GET\u0026#34;,status=\u0026#34;304\u0026#34;} 12 directus_request_duration_seconds_bucket{le=\u0026#34;0.25\u0026#34;,method=\u0026#34;GET\u0026#34;,status=\u0026#34;304\u0026#34;} 12 directus_request_duration_seconds_bucket{le=\u0026#34;0.5\u0026#34;,method=\u0026#34;GET\u0026#34;,status=\u0026#34;304\u0026#34;} 12 directus_request_duration_seconds_bucket{le=\u0026#34;1\u0026#34;,method=\u0026#34;GET\u0026#34;,status=\u0026#34;304\u0026#34;} 12 directus_request_duration_seconds_bucket{le=\u0026#34;2.5\u0026#34;,method=\u0026#34;GET\u0026#34;,status=\u0026#34;304\u0026#34;} 12 directus_request_duration_seconds_bucket{le=\u0026#34;5\u0026#34;,method=\u0026#34;GET\u0026#34;,status=\u0026#34;304\u0026#34;} 12 directus_request_duration_seconds_bucket{le=\u0026#34;10\u0026#34;,method=\u0026#34;GET\u0026#34;,status=\u0026#34;304\u0026#34;} 12 directus_request_duration_seconds_bucket{le=\u0026#34;+Inf\u0026#34;,method=\u0026#34;GET\u0026#34;,status=\u0026#34;304\u0026#34;} 12 directus_request_duration_seconds_sum{method=\u0026#34;GET\u0026#34;,status=\u0026#34;304\u0026#34;} 0.16695966899999998 directus_request_duration_seconds_count{method=\u0026#34;GET\u0026#34;,status=\u0026#34;304\u0026#34;} 12 directus_request_duration_seconds_bucket{le=\u0026#34;0.005\u0026#34;,method=\u0026#34;PATCH\u0026#34;,status=\u0026#34;204\u0026#34;} 0 directus_request_duration_seconds_bucket{le=\u0026#34;0.01\u0026#34;,method=\u0026#34;PATCH\u0026#34;,status=\u0026#34;204\u0026#34;} 4 directus_request_duration_seconds_bucket{le=\u0026#34;0.025\u0026#34;,method=\u0026#34;PATCH\u0026#34;,status=\u0026#34;204\u0026#34;} 5 directus_request_duration_seconds_bucket{le=\u0026#34;0.05\u0026#34;,method=\u0026#34;PATCH\u0026#34;,status=\u0026#34;204\u0026#34;} 5 directus_request_duration_seconds_bucket{le=\u0026#34;0.1\u0026#34;,method=\u0026#34;PATCH\u0026#34;,status=\u0026#34;204\u0026#34;} 5 directus_request_duration_seconds_bucket{le=\u0026#34;0.25\u0026#34;,method=\u0026#34;PATCH\u0026#34;,status=\u0026#34;204\u0026#34;} 5 directus_request_duration_seconds_bucket{le=\u0026#34;0.5\u0026#34;,method=\u0026#34;PATCH\u0026#34;,status=\u0026#34;204\u0026#34;} 5 directus_request_duration_seconds_bucket{le=\u0026#34;1\u0026#34;,method=\u0026#34;PATCH\u0026#34;,status=\u0026#34;204\u0026#34;} 5 directus_request_duration_seconds_bucket{le=\u0026#34;2.5\u0026#34;,method=\u0026#34;PATCH\u0026#34;,status=\u0026#34;204\u0026#34;} 5 directus_request_duration_seconds_bucket{le=\u0026#34;5\u0026#34;,method=\u0026#34;PATCH\u0026#34;,status=\u0026#34;204\u0026#34;} 5 directus_request_duration_seconds_bucket{le=\u0026#34;10\u0026#34;,method=\u0026#34;PATCH\u0026#34;,status=\u0026#34;204\u0026#34;} 5 directus_request_duration_seconds_bucket{le=\u0026#34;+Inf\u0026#34;,method=\u0026#34;PATCH\u0026#34;,status=\u0026#34;204\u0026#34;} 5 directus_request_duration_seconds_sum{method=\u0026#34;PATCH\u0026#34;,status=\u0026#34;204\u0026#34;} 0.059318456000000006 directus_request_duration_seconds_count{method=\u0026#34;PATCH\u0026#34;,status=\u0026#34;204\u0026#34;} 5 # HELP directus_collection_size The total number of items in each collection # TYPE directus_collection_size gauge directus_collection_size{collection=\u0026#34;directus_activity\u0026#34;} 4 directus_collection_size{collection=\u0026#34;directus_collections\u0026#34;} 1 directus_collection_size{collection=\u0026#34;directus_fields\u0026#34;} 1 directus_collection_size{collection=\u0026#34;directus_files\u0026#34;} 0 directus_collection_size{collection=\u0026#34;directus_folders\u0026#34;} 0 directus_collection_size{collection=\u0026#34;directus_migrations\u0026#34;} 62 directus_collection_size{collection=\u0026#34;directus_permissions\u0026#34;} 0 directus_collection_size{collection=\u0026#34;directus_presets\u0026#34;} 0 directus_collection_size{collection=\u0026#34;directus_relations\u0026#34;} 0 directus_collection_size{collection=\u0026#34;directus_revisions\u0026#34;} 2 directus_collection_size{collection=\u0026#34;directus_roles\u0026#34;} 1 directus_collection_size{collection=\u0026#34;directus_sessions\u0026#34;} 2 directus_collection_size{collection=\u0026#34;directus_settings\u0026#34;} 0 directus_collection_size{collection=\u0026#34;directus_users\u0026#34;} 1 directus_collection_size{collection=\u0026#34;directus_webhooks\u0026#34;} 0 directus_collection_size{collection=\u0026#34;directus_dashboards\u0026#34;} 0 directus_collection_size{collection=\u0026#34;directus_panels\u0026#34;} 0 directus_collection_size{collection=\u0026#34;directus_notifications\u0026#34;} 0 directus_collection_size{collection=\u0026#34;directus_shares\u0026#34;} 0 directus_collection_size{collection=\u0026#34;directus_flows\u0026#34;} 0 directus_collection_size{collection=\u0026#34;directus_operations\u0026#34;} 0 directus_collection_size{collection=\u0026#34;thing\u0026#34;} 0 Adding Your Own Metrics To add your own metrics, you have to create an extension. Most likely you\u0026rsquo;d want to create a hook extension but directus-extension-prometheus should be available from any api extension.\nUsage:\nconst {globalRegister} = require(\u0026#39;directus-extension-prometheus\u0026#39;); const {Counter} = require(\u0026#34;prom-client\u0026#34;); module.exports = { default: ({init}) =\u0026gt; { // here I use the app.before hook to register this metric as soon as the app starts init(\u0026#39;app.before\u0026#39;, () =\u0026gt; { const count = new Counter({ registers: [globalRegister], name: \u0026#39;timey_wimey\u0026#39;, help: \u0026#39;People assume that time is a strict progression from cause to effect, but actually from a non-linear, non-subjective viewpoint, it’s more like a big ball of wibbly-wobbly, timey-wimey stuff.\u0026#39; }); // increment the counter every second setInterval(() =\u0026gt; { count.inc(); }, 1000); }); } } "},{"uri":"https://www.createdirectusapp.com/categories/","title":"Categories","tags":[],"description":"","content":""},{"uri":"https://www.createdirectusapp.com/","title":"Directus Developer Guide","tags":[],"description":"","content":"Directus App Development Directus is a very useful tool for rapidly developing new applications. However, it can be quite tricky to get started the first time. I\u0026rsquo;ve created this guide for you to help you through this initial process. I hope you will be able to work on the things that actually matter.\nThis guide is very much still a work in progress. Check back regularly to see what is going on.\n"},{"uri":"https://www.createdirectusapp.com/tags/","title":"Tags","tags":[],"description":"","content":""}]