[{"uri":"https://www.createdirectusapp.com/01-getting-started/create-directus-project/","title":"Create a Directus Project","tags":[],"description":"","content":"Our first step is to structure our project. Throughout his guide we will add multiple workspaces to the project\nSo we will start off by creating our root package.json:\n{ \u0026#34;private\u0026#34;: true, \u0026#34;workspaces\u0026#34;: [ \u0026#34;directus-app\u0026#34; ] } And our directus-app/package.json:\n{ \u0026#34;name\u0026#34;: \u0026#34;directus-app\u0026#34;, \u0026#34;version\u0026#34;: \u0026#34;0.0.0\u0026#34;, \u0026#34;license\u0026#34;: \u0026#34;MIT\u0026#34; } Then we install directus:\nyarn workspace directus-app add directus To be able to run directus, we need a database to connect to. Let\u0026rsquo;s set up a postgres database using directus-app/docker-compose.yml:\nversion: \u0026#34;3.8\u0026#34; services: database: image: postgres:15 environment: POSTGRES_USER: directus POSTGRES_PASSWORD: directus ports: - \u0026#34;5432:5432\u0026#34; Now to run scripts we will install 2 utilities into our project: wsrun to run scripts across multiple workspaces and npm-run-all to run scripts sequentially or in parallel.\nyarn add -D -W wsrun npm-run-all We can now add our scripts to directus-app by editing directus-app/package.json:\n{ \u0026#34;name\u0026#34;: \u0026#34;directus-app\u0026#34;, \u0026#34;version\u0026#34;: \u0026#34;0.0.0\u0026#34;, \u0026#34;license\u0026#34;: \u0026#34;MIT\u0026#34;, \u0026#34;dependencies\u0026#34;: { ... }, \u0026#34;scripts\u0026#34;: { \u0026#34;dev\u0026#34;: \u0026#34;run-s dev:**\u0026#34;, \u0026#34;dev:docker\u0026#34;: \u0026#34;docker compose up -d\u0026#34;, \u0026#34;dev:bootstrap\u0026#34;: \u0026#34;directus bootstrap\u0026#34;, \u0026#34;dev:start\u0026#34;: \u0026#34;directus start\u0026#34; } } And we will also add the dev script our root package.json which forwards the dev script to all our workspaces. This will come in handy later:\n{ \u0026#34;private\u0026#34;: true, \u0026#34;workspaces\u0026#34;: [ \u0026#34;directus-app\u0026#34; ], \u0026#34;scripts\u0026#34;: { \u0026#34;dev\u0026#34;: \u0026#34;wsrun -m dev\u0026#34; } } And finally, configure your directus instance using directus-app/.env:\nKEY=development key SECRET=development secret ADMIN_EMAIL=admin@example.com ADMIN_PASSWORD=admin DB_CLIENT=pg DB_CONNECTION_STRING=postgresql://directus:directus@127.0.0.1/directus EXTENSIONS_AUTO_RELOAD=true Now you should be able to start directus:\nyarn dev When you see the message Server started at http://0.0.0.0:8055 you will be able to open directus on http://localhost:8055.\n"},{"uri":"https://www.createdirectusapp.com/01-getting-started/commit-schema-to-git/","title":"Commit Your Schema to Git","tags":[],"description":"","content":"In the previous step we\u0026rsquo;ve set up a directus project. Now we want to export our schema when we change it.\nAdd a new script to directus-app/package.json:\n{ \u0026#34;name\u0026#34;: \u0026#34;directus-app\u0026#34;, ... \u0026#34;scripts\u0026#34;: { ... \u0026#34;dump\u0026#34;: \u0026#34;run-p dump:**\u0026#34;, \u0026#34;dump:schema\u0026#34;: \u0026#34;directus schema snapshot -y ./schema.yml\u0026#34; } } And add the forwarder to the root package.json:\n{ \u0026#34;private\u0026#34;: true, ... \u0026#34;scripts\u0026#34;: { ... \u0026#34;dump\u0026#34;: \u0026#34;wsrun -m dump\u0026#34; }, ... } Now run yarn dump to save your schema to directus-app/schema.yml. Confirm that this file exists.\nNext we will add a script to directus-app/package.json to load this schema when directus starts:\n{ \u0026#34;name\u0026#34;: \u0026#34;directus-app\u0026#34;, ... \u0026#34;scripts\u0026#34;: { ... \u0026#34;dev:bootstrap\u0026#34;: \u0026#34;directus bootstrap\u0026#34;, \u0026#34;dev:schema\u0026#34;: \u0026#34;directus schema apply ./schema.yml\u0026#34;, \u0026#34;dev:start\u0026#34;: \u0026#34;directus start\u0026#34;, ... } } Make sure you place the dev:schema script in the same place as in the example above. The order is important because it determines the order in which run-s runs the scripts. The schema apply will fail if the database has not been bootstrapped.\nNow, when you check out your project, you will be able to run yarn install followed by yarn dev and your directus instance will be immediately available for you.\n"},{"uri":"https://www.createdirectusapp.com/01-getting-started/create-an-extension/","title":"Create an Extension","tags":[],"description":"","content":"Now let\u0026rsquo;s add some functionality to Directus in the form of an extension.\nTODO: I still have to write a section actually developing the extension.\nFirst we need to generate our extension files:\nyarn create directus-extension Choose the extension type: bundle\nChoose a name for the extension: directus-extension-example\nIt is important to prefix your extension name with directus-extension-. If you don\u0026rsquo;t, Directus will not load your extension.\nAnd add this new package to your root package.json:\n{ \u0026#34;private\u0026#34;: true, \u0026#34;workspaces\u0026#34;: [ ... \u0026#34;directus-extension-example\u0026#34; ], ... } And add the extension as a dependency to directus-app/package.json. Use version \u0026quot;*\u0026quot; to make sure yarn is always linking to your local package.\n{ \u0026#34;name\u0026#34;: \u0026#34;directus-app\u0026#34;, \u0026#34;version\u0026#34;: \u0026#34;0.0.0\u0026#34;, \u0026#34;license\u0026#34;: \u0026#34;MIT\u0026#34;, \u0026#34;dependencies\u0026#34;: { \u0026#34;directus\u0026#34;: \u0026#34;^10.5.3\u0026#34;, \u0026#34;directus-extension-example\u0026#34;: \u0026#34;*\u0026#34; }, ... } Now run yarn install in the root of your project to link the dependencies and run yarn dev to test your project.\nYou should see the following message in your console: Loaded extensions: directus-extension-example. This means the extension was loaded.\nOptional: Autogenerate Directus TypeScript Definitions I\u0026rsquo;ve created an extension called directus-extension-models which generates TypeScript types from your Directus collection. This is particularly useful while developing Directus extensions.\nAdd the package:\nyarn workspace directus-app add directus-extension-models Then add a dump script to directus-app/package.json:\n{ \u0026#34;name\u0026#34;: \u0026#34;directus-app\u0026#34;, ... \u0026#34;scripts\u0026#34;: { ... \u0026#34;dump:models\u0026#34;: \u0026#34;directus models snapshot ../directus-extension-example/src/models.d.ts\u0026#34; } } And run yarn dump to generate the type definition files.\nYou should now have a file at directus-extension-example/src/models.d.ts contains a bunch of Directus related types.\nYou can optionally specify the --global flag to the models command to generate global type declarations for your extension. When you do this, you don\u0026rsquo;t have to import your types. They will be globally available instead. In that case, the command looks like this: directus models snapshot --global ../directus-extension-example/src/models.d.ts\n"},{"uri":"https://www.createdirectusapp.com/01-getting-started/","title":"Getting Started","tags":[],"description":"","content":"Chapter 1 Getting Started In this section we will be setting up a project repository for application development using Directus. We will cover how to set up a multi-workspace project and how to run that project in both development situations and in production.\nThroughout this guide I will be using yarn as my package manager but it should also work fine with npm.\n"},{"uri":"https://www.createdirectusapp.com/categories/","title":"Categories","tags":[],"description":"","content":""},{"uri":"https://www.createdirectusapp.com/","title":"Directus Developer Guide","tags":[],"description":"","content":"Directus App Development Directus is a very useful tool for rapidly developing new applications. However, it can be quite tricky to get started the first time. I\u0026rsquo;ve created this guide for you to help you through this initial process. I hope you will be able to work on the things that actually matter.\nThis guide is very much still a work in progress. Check back regularly to see what is going on.\n"},{"uri":"https://www.createdirectusapp.com/tags/","title":"Tags","tags":[],"description":"","content":""}]